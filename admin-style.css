/* AI Image SEO Optimizer Admin Styles */

/* --- Settings Page --- */
.aiso-settings-wrap h1 {
    margin-bottom: 15px;
}
.aiso-settings-wrap .notice {
    margin-top: 10px;
    margin-bottom: 20px;
}
.aiso-settings-forms {
    display: grid;
    grid-template-columns: 2fr 1fr; /* Adjust ratio as needed */
    gap: 30px;
    margin-bottom: 25px;
}
.aiso-settings-forms form,
.aiso-tests-section {
    background: #fff;
    padding: 20px;
    border: 1px solid #ccd0d4;
    box-shadow: 0 1px 1px rgba(0,0,0,.04);
}
.aiso-tests-section h2 {
    margin-top: 0;
    font-size: 1.2em; /* Slightly smaller */
}
.aiso-tests-section p {
    margin-bottom: 15px;
}
.aiso-tests-section .button {
    margin-right: 10px;
}
.aiso-model-info {
    margin-top: 20px;
    padding: 15px;
    background: #f0f6fc;
    border-left: 4px solid #72aee6;
}
.aiso-model-info h2 {
    margin-top: 0;
    font-size: 1.1em;
}
.aiso-model-info p {
    margin-bottom: 0.5em;
}

/* --- Main Admin Page ('All Images') & 'Page Analyzer' Common Styles --- */
.aiso-admin-wrap .notice { margin-bottom: 15px; }
.aiso-admin-wrap h1 { margin-bottom: 15px; }

/* Bulk Actions Area (Only visible on 'All Images' page) */
.aiso-bulk-actions {
    margin-bottom: 20px;
    padding: 15px;
    background-color: #fff;
    border: 1px solid #ccd0d4;
    box-shadow: 0 1px 1px rgba(0,0,0,.04);
    display: flex;
    align-items: center;
    gap: 10px;
}
.aiso-bulk-actions .button[disabled] { cursor: not-allowed; opacity: 0.7; }
.aiso-bulk-actions .spinner { float: none; vertical-align: middle; opacity: 0.7; visibility: hidden; margin-left: 5px; }
.aiso-bulk-actions .spinner.is-active { visibility: visible; }
.aiso-bulk-actions .description { margin: 0 0 0 10px; color: #646970; font-style: italic; }
/* --- Page Analyzer Bulk Actions --- */
.aiso-analyzer-bulk-actions {
    margin-top: 15px; /* Add space above */
    margin-bottom: 20px;
    padding: 15px;
    background-color: #f6f7f7; /* Light background */
    border: 1px solid #ccd0d4;
    box-shadow: 0 1px 1px rgba(0,0,0,.04);
    display: flex;
    align-items: center;
    gap: 10px;
    flex-wrap: wrap; /* Allow wrapping on smaller screens */
}

.aiso-analyzer-bulk-actions .button .dashicons {
    margin-right: 3px;
    vertical-align: text-bottom;
}

.aiso-analyzer-bulk-actions .spinner {
    float: none;
    vertical-align: middle;
    opacity: 0.7;
    visibility: hidden;
    margin: 0 0 0 5px;
}
.aiso-analyzer-bulk-actions .spinner.is-active {
    visibility: visible;
}
.aiso-analyzer-bulk-actions .description {
    margin: 0 0 0 10px;
    color: #646970;
    font-style: italic;
    flex-basis: 100%; /* Make description take full width if wrapping */
    margin-top: 5px;
}
.aiso-analyzer-bulk-actions .aiso-bulk-progress {
    font-weight: bold;
    margin-left: 5px;
    color: #2271b1;
}

/* Dim row during bulk processing */
.aiso-image-table tbody tr.aiso-processing td {
    opacity: 0.6;
    transition: opacity 0.3s ease-in-out;
}

/* Table Responsive Wrapper */
.table-responsive { overflow-x: auto; margin-bottom: 20px; }

/* Table Styling (Common) */
.aiso-image-table { margin-top: 0; border: 1px solid #ccd0d4; box-shadow: 0 1px 1px rgba(0,0,0,.04); }
.aiso-image-table th, .aiso-image-table td { padding: 10px 12px; vertical-align: middle; font-size: 13px; line-height: 1.4; }
.aiso-image-table thead th { background-color: #f6f7f7; border-bottom: 1px solid #ccd0d4; font-weight: 600; /* Make headers slightly bolder */ }
.aiso-image-table tbody tr:nth-child(even) { background-color: #fdfdfd; }
.aiso-image-table tbody tr:hover { background-color: #f0f6fc; }

/* Column Specific Styling (Common) */
.column-thumbnail { width: 70px; text-align: center; }
.column-image-info { width: 18%; }
.column-current-meta { width: 20%; }
.column-keywords { width: 22%; }
.column-ai-meta { width: 18%; }
.column-actions { width: 150px; text-align: right; }

.aiso-thumbnail { max-width: 60px; height: auto; display: block; margin: 0 auto; border: 1px solid #eee; border-radius: 3px; background-color: #fff; }
.column-image-info strong { display: block; margin-bottom: 5px; word-break: break-word; /* Allow breaking long filenames */ }
.column-image-info .row-actions { font-size: 0.9em; margin-top: 3px; visibility: hidden; /* Hide by default */ opacity: 0.8; }
.aiso-image-table tbody tr:hover .row-actions { visibility: visible; } /* Show on hover */
.column-image-info small { font-size: 0.9em; color: #646970; }
.column-image-info small em { font-style: normal; color: #888; } /* Style for 'External...' text */

.column-current-meta .aiso-meta-display,
.column-ai-meta .ai-output-wrapper span {
    display: block;
    margin-bottom: 5px;
    line-height: 1.4;
    word-wrap: break-word;
}
.column-current-meta .aiso-meta-display strong,
.column-ai-meta .ai-output-wrapper span::before {
    font-weight: 600; /* Use 600 for slightly bolder */
    color: #3c434a; /* Darker gray for labels */
    margin-right: 4px;
}
/* Specific labels for AI section */
.column-ai-meta .ai-title-output::before { content: "Title:"; }
.column-ai-meta .ai-alt-output::before { content: "Alt:"; }
/* Placeholder for empty AI results */
.column-ai-meta .ai-output-wrapper span:empty::before { content: "-"; color: #999; font-style: italic; font-weight: normal; }
/* Placeholder for non-library meta/AI */
.column-current-meta em, .column-ai-meta em { font-style: italic; color: #888; font-size: 0.95em; }
.column-current-meta em small { display: block; font-size: 0.9em; color: #999; }


.column-keywords input[type="text"] { width: 100%; margin-bottom: 5px; padding: 5px 8px; box-sizing: border-box; }
.column-keywords input[disabled] { background-color: #f0f0f0; cursor: not-allowed; opacity: 0.7; }
.column-keywords em { font-style: italic; color: #888; font-size: 0.95em; display: block; margin-bottom: 5px; }


.column-actions .button { margin-left: 5px; margin-bottom: 5px; vertical-align: middle; }
.column-actions .button .dashicons { margin-right: 3px; vertical-align: text-bottom; font-size: 18px; height: 18px; /* Ensure icon height */ }
.column-actions .spinner { float: none; display: inline-block; vertical-align: middle; opacity: 0.7; visibility: hidden; margin: 0 0 0 5px; width: 20px; height: 20px; }
.column-actions .spinner.is-active { visibility: visible; }
.column-actions em { font-style: italic; color: #888; font-size: 0.95em; }

/* Row Status Highlighting (Common) */
tr.aiso-success-row td { background-color: #e7f7e8 !important; border-left: 4px solid #39a847; transition: background-color 0.5s ease; }
tr.aiso-error-row td { background-color: #fdeaea !important; border-left: 4px solid #d63638; transition: background-color 0.5s ease; }
tr.aiso-generated-row .column-ai-meta { background-color: #fffbe5; } /* Highlight generated data */
tr.aiso-external-image td { /* Slightly dim external image rows */
    opacity: 0.8;
}
tr.aiso-external-image:hover td { /* Restore full opacity on hover */
     opacity: 1;
}


/* Pagination Styling (Only applies on 'All Images' page due to structure) */
.tablenav.bottom { background: #fff; border: 1px solid #ccd0d4; border-top: none; padding: 10px 15px; height: auto; /* Ensure it wraps */ }
.tablenav-pages { float: none; text-align: center; }
.aiso-pagination { display: inline-block; margin: 0; }
.aiso-pagination ul { list-style: none; padding: 0; margin: 0; display: flex; align-items: center; gap: 5px; }
.aiso-pagination li { display: inline; }
.aiso-pagination .page-numbers { display: inline-block; padding: 6px 12px; border: 1px solid #ccc; text-decoration: none; color: #0073aa; background-color: #fff; border-radius: 3px; transition: background-color 0.2s ease, color 0.2s ease; }
.aiso-pagination .page-numbers:hover, .aiso-pagination .page-numbers:focus { background-color: #f0f0f1; color: #016087; border-color: #adadad; outline: none; }
.aiso-pagination .page-numbers.current { font-weight: bold; background-color: #e0e0e0; color: #333; border-color: #adadad; cursor: default; }
.aiso-pagination .page-numbers.dots { border: none; background: none; cursor: default; padding: 6px 5px; }

/* Notification Logs (Common) */
.aiso-error-message, .aiso-success-message {
    position: relative;
    margin: 0 0 15px 0;
    display: none; /* Hidden by default */
}
.aiso-error-message p, .aiso-success-message p {
     margin: 0;
     padding-right: 30px; /* Space for dismiss button */
}
.aiso-error-message .notice-dismiss, .aiso-success-message .notice-dismiss {
    position: absolute; top: 50%; right: 1px; margin-top: -10px; padding: 9px; background: 0 0; color: #787c82; border: none; text-decoration: none; cursor: pointer;
}
.aiso-error-message .notice-dismiss:before, .aiso-success-message .notice-dismiss:before {
    background: 0 0; color: #787c82; content: "\f153"; display: block; font: normal 16px/20px dashicons; height: 20px; text-align: center; width: 20px; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;
}
.aiso-error-message .notice-dismiss:hover:before, .aiso-success-message .notice-dismiss:hover:before { color: #000; }


/* --- Page Analyzer Specific Styles --- */
.aiso-page-analyzer-wrap .aiso-page-select-form .form-table { margin-bottom: 20px; width: auto; /* Don't force full width */ }
.aiso-page-analyzer-wrap .aiso-page-select-form .form-table th { padding-left: 0; width: auto; /* Adjust label width */ }
.aiso-page-analyzer-wrap .aiso-page-select-form .form-table td { padding-right: 0; display: flex; align-items: center; gap: 10px; } /* Align select and button */
.aiso-page-analyzer-wrap .aiso-page-select-form select { min-width: 300px; max-width: 100%; }
.aiso-page-analyzer-wrap hr { border: none; border-top: 1px solid #ddd; margin: 25px 0; }
.aiso-page-analyzer-wrap .aiso-results-header { margin-top: 0; margin-bottom: 10px; font-size: 1.4em; font-weight: 600; }
.aiso-page-analyzer-wrap .aiso-results-header em { font-style: normal; color: #2271b1; }
.aiso-page-analyzer-wrap .aiso-page-h1-display { background-color: #fff; padding: 10px 15px; border: 1px solid #e0e0e0; border-left: 3px solid #72aee6; border-radius: 3px; margin-bottom: 20px; font-size: 1em; line-height: 1.5; }
.aiso-page-analyzer-wrap .aiso-page-h1-display strong { margin-right: 5px; font-weight: 600; color: #3c434a; }
.aiso-page-analyzer-wrap .aiso-page-h1-display span { color: #50575e; }

/* Style for H1 context within the table row */
.aiso-keywords-h1-cell .aiso-page-h1-context {
    margin-top: 10px;
    padding-top: 8px;
    border-top: 1px dashed #ccc;
    font-size: 0.9em;
}
.aiso-keywords-h1-cell .aiso-page-h1-context strong {
    color: #444;
    display: block;
    margin-bottom: 3px;
    font-weight: 600;
}
.aiso-keywords-h1-cell .aiso-page-h1-context small {
    color: #666;
    display: block;
    line-height: 1.3;
    word-wrap: break-word; /* Wrap long H1s */
}


/* Media Queries (Adjustments for smaller screens) */
@media screen and (max-width: 782px) {
    .aiso-settings-forms { grid-template-columns: 1fr; } /* Stack settings forms */
    .column-actions { text-align: left; } /* Align actions left */

    /* Responsive table behavior: hide less critical columns */
    .aiso-image-table .column-current-meta,
    .aiso-image-table .column-ai-meta { display: none; }
    .aiso-image-table .column-image-info,
    .aiso-image-table .column-keywords { width: 35%; } /* Increase width for remaining columns */
    .aiso-image-table .column-actions { width: auto; } /* Allow actions to wrap */

    /* Make page analyzer select/button stack */
    .aiso-page-analyzer-wrap .aiso-page-select-form .form-table td { display: block; }
    .aiso-page-analyzer-wrap .aiso-page-select-form select { margin-bottom: 10px; width: 100%; }
    .aiso-page-analyzer-wrap .aiso-page-select-form .button { width: 100%; text-align: center; }

    /* Adjust pagination display on mobile */
    .tablenav-pages { text-align: center; margin-top: 10px; }
    .aiso-pagination .page-numbers { padding: 4px 8px; }
}

@media screen and (max-width: 600px) {
    /* Further hide columns on very small screens */
    .aiso-image-table .column-image-info { display: none; }
     .aiso-image-table .column-keywords { width: 60%; }
     .aiso-image-table .column-thumbnail { width: 50px; }
     .aiso-thumbnail { max-width: 40px; }
}